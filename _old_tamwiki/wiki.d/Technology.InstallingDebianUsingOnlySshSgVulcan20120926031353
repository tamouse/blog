version=pmwiki-2.2.43 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:15.0) Gecko/20100101 Firefox/15.0.1
author=tamara
charset=ISO-8859-1
csum=Page moved to Technology.InstallingDebianUsingOnlySshSgVulcan20120926031353 from SavedArticles.InstallingDebianUsingOnlySshSgVulcan20120926031353
ctime=1348648036
host=71.63.215.130
name=Technology.InstallingDebianUsingOnlySshSgVulcan20120926031353
rev=2
targets=Technology.InstallingDebianUsingOnlySshSgVulcan20120926031353,Technology.Linux,Category.Articles,Category.HowTos
text=''Page saved from {$:Source} ''%0a%0a(:nolinkwikiwords:)%0a! Installing Debian using only SSH%0a%0aJanuary 6, 2010 By [[http://www.sgvulcan.com/author/admin/ | silviu]] [[https://twitter.com/share | Tweet]] [[http://digg.com/submit?url=http://www.sgvulcan.com/installing-debian-using-only-ssh/&title=Installing+Debian+using+only+SSH | digg ]]%0a%0aI have a headless machine at home that I plan to use as a backup and development server. Even though I&rsquo;m a Skackware guy I chose to install Debian on it. Of course I could have hooked a monitor and keyboard to it but for the sake of exercise I wanted to see if it&rsquo;s possible to install debian using ssh from the very beginning.%0a%0aThe short answer: '''it&rsquo;s possible &hellip; maybe'''. Your headless machine should already be set to boot of cd if one is present, otherwise it will not work.%0a%0aHere are the steps needed to start you off:%0a%0a1. Download the netinst cd image%0a%0a(:source lang=bash:)%0awget http://mirrors.kernel.org/debian-cd/5.0.3/i386/iso-cd/debian-503-i386-netinst.iso%0a(:sourceend:)%0a%0a2. Mount the ISO to a folder, let&rsquo;s call it isoorig%0a%0a(:source lang=bash:)%0amkdir isoorig%0amount -o loop -t iso9660 debian-503-i386-netinst.iso isoorig%0a(:sourceend:)%0a%0a%0a3. Extract to new folder called isonew%0a%0a(:source lang=bash:)%0amkdir isonew%0arsync -a -H –exclude=TRANS.TBL isoorig/ isonew%0a(:sourceend:)%0a%0a%0a4. Change the menu to load SSH on boot by default%0a%0a(:source lang=bash:)%0acd isonew%0anano isolinux/txt.cfg%0a(:sourceend:)%0a%0aDELETE:%0aremove "menu default" from "label install"%0a%0aADD:%0a%0a(:source:)%0alabel netinstall%0amenu label ^Install Over SSH%0amenu default%0akernel /install.386/vmlinuz%0aappend auto=true vga=normal file=/cdrom/preseed.cfg initrd=/install.386/initrd.gz locale=en_US console-keymaps-at/keymap=us%0a(:sourceend:)%0a%0aCHANGE: \\%0a&ldquo;default install&rdquo; to &ldquo;default netinstall&rdquo;%0a%0aEDIT: both files below and change &ldquo;timeout 0&Prime; to &ldquo;timeout 4&Prime; to make it auto select netinstall%0a%0a(:source lang=bash:)%0anano isolinux/isolinux.cfg%0anano isolinux/prompt.cfg%0a(:souceend:)%0a%0a5. Create preseed.cfg file%0a%0a(:source lang=bash:)%0anano isonew/preseed.cfg%0a(:sourceend:)%0a%0a6. PASTE this to the preseed file:%0a%0a(:source:)%0a#### Contents of the preconfiguration file%0a### Localization%0a# Locale sets language and country.%0ad-i debian-installer/locale select en_US%0a# Keyboard selection.%0ad-i console-keymaps-at/keymap select us%0a### Network configuration%0a# netcfg will choose an interface that has link if possible. This makes it%0a# skip displaying a list if there is more than one interface.%0ad-i netcfg/choose_interface select auto%0a# Any hostname and domain names assigned from dhcp take precedence over%0a# values set here. However, setting the values still prevents the questions%0a# from being shown, even if values come from dhcp.%0ad-i netcfg/get_hostname string newdebian%0ad-i netcfg/get_domain string local%0a# Disable that annoying WEP key dialog.%0ad-i netcfg/wireless_wep string%0a# The wacky dhcp hostname that some ISPs use as a password of sorts.%0a#d-i netcfg/dhcp_hostname string radish%0ad-i preseed/early_command string anna-install network-console%0a# Setup ssh password%0ad-i network-console/password password install%0ad-i network-console/password-again password install%0a(:sourceend:)%0a%0a7. Recreate md5sum.txt file%0a(:source lang=bash:)%0amd5sum `find -follow -type f` > md5sum.txt%0a(:sourceend:)%0a%0a8. Create your new iso image%0a%0a(:source lang=bash:)%0amkisofs -o ../custom_install.iso -r -J -no-emul-boot -boot-load-size 4 -boot-info-table -b isolinux/isolinux.bin -c isolinux/boot.cat ../isonew%0a(:sourceend:)%0a%0aThe image you just obtained is ready to burn. This loads everything automatically and goes to the SSH screen.%0a%0aThanks go to people on various debian forums, this information was collected via trial and error and by combining info found around. Have fun with your shiny new headless debian box.%0a(:linkwikiwords:)%0a%0a>>comment%3c%3c%0aSummary: I have a headless machine at home that I plan to use as a backup and development server. %0aTags: debian,ssh,headless%0a(:tags-hide debian,ssh,headless:)%0a(:title Installing Debian using only SSH | S.G. Vulcan:)%0aSource: http://www.sgvulcan.com/installing-debian-using-only-ssh/%0aParent:(Technology.)Linux%0aincludeme:[[Technology.Linux]]%0aCategories:[[!Articles]],[[!HowTos]]%0a>>%3c%3c%0a%0aPage saved at: Wed, 26 Sep 2012 03:13:53 -0500%0a%0a
time=1348648060
title=Installing Debian using only SSH | S.G. Vulcan
author:1348648060=tamara
csum:1348648060=Page moved to Technology.InstallingDebianUsingOnlySshSgVulcan20120926031353 from SavedArticles.InstallingDebianUsingOnlySshSgVulcan20120926031353
diff:1348648060:1348648036:=
host:1348648060=71.63.215.130
author:1348648036=tamara
csum:1348648036=new article
diff:1348648036:1348648036:=1,128d0%0a%3c ''Page saved from {$:Source} ''%0a%3c %0a%3c (:nolinkwikiwords:)%0a%3c ! Installing Debian using only SSH%0a%3c %0a%3c January 6, 2010 By [[http://www.sgvulcan.com/author/admin/ | silviu]] [[https://twitter.com/share | Tweet]] [[http://digg.com/submit?url=http://www.sgvulcan.com/installing-debian-using-only-ssh/&title=Installing+Debian+using+only+SSH | digg ]]%0a%3c %0a%3c I have a headless machine at home that I plan to use as a backup and development server. Even though I&rsquo;m a Skackware guy I chose to install Debian on it. Of course I could have hooked a monitor and keyboard to it but for the sake of exercise I wanted to see if it&rsquo;s possible to install debian using ssh from the very beginning.%0a%3c %0a%3c The short answer: '''it&rsquo;s possible &hellip; maybe'''. Your headless machine should already be set to boot of cd if one is present, otherwise it will not work.%0a%3c %0a%3c Here are the steps needed to start you off:%0a%3c %0a%3c 1. Download the netinst cd image%0a%3c %0a%3c (:source lang=bash:)%0a%3c wget http://mirrors.kernel.org/debian-cd/5.0.3/i386/iso-cd/debian-503-i386-netinst.iso%0a%3c (:sourceend:)%0a%3c %0a%3c 2. Mount the ISO to a folder, let&rsquo;s call it isoorig%0a%3c %0a%3c (:source lang=bash:)%0a%3c mkdir isoorig%0a%3c mount -o loop -t iso9660 debian-503-i386-netinst.iso isoorig%0a%3c (:sourceend:)%0a%3c %0a%3c %0a%3c 3. Extract to new folder called isonew%0a%3c %0a%3c (:source lang=bash:)%0a%3c mkdir isonew%0a%3c rsync -a -H –exclude=TRANS.TBL isoorig/ isonew%0a%3c (:sourceend:)%0a%3c %0a%3c %0a%3c 4. Change the menu to load SSH on boot by default%0a%3c %0a%3c (:source lang=bash:)%0a%3c cd isonew%0a%3c nano isolinux/txt.cfg%0a%3c (:sourceend:)%0a%3c %0a%3c DELETE:%0a%3c remove "menu default" from "label install"%0a%3c %0a%3c ADD:%0a%3c %0a%3c (:source:)%0a%3c label netinstall%0a%3c menu label ^Install Over SSH%0a%3c menu default%0a%3c kernel /install.386/vmlinuz%0a%3c append auto=true vga=normal file=/cdrom/preseed.cfg initrd=/install.386/initrd.gz locale=en_US console-keymaps-at/keymap=us%0a%3c (:sourceend:)%0a%3c %0a%3c CHANGE: \\%0a%3c &ldquo;default install&rdquo; to &ldquo;default netinstall&rdquo;%0a%3c %0a%3c EDIT: both files below and change &ldquo;timeout 0&Prime; to &ldquo;timeout 4&Prime; to make it auto select netinstall%0a%3c %0a%3c (:source lang=bash:)%0a%3c nano isolinux/isolinux.cfg%0a%3c nano isolinux/prompt.cfg%0a%3c (:souceend:)%0a%3c %0a%3c 5. Create preseed.cfg file%0a%3c %0a%3c (:source lang=bash:)%0a%3c nano isonew/preseed.cfg%0a%3c (:sourceend:)%0a%3c %0a%3c 6. PASTE this to the preseed file:%0a%3c %0a%3c (:source:)%0a%3c #### Contents of the preconfiguration file%0a%3c ### Localization%0a%3c # Locale sets language and country.%0a%3c d-i debian-installer/locale select en_US%0a%3c # Keyboard selection.%0a%3c d-i console-keymaps-at/keymap select us%0a%3c ### Network configuration%0a%3c # netcfg will choose an interface that has link if possible. This makes it%0a%3c # skip displaying a list if there is more than one interface.%0a%3c d-i netcfg/choose_interface select auto%0a%3c # Any hostname and domain names assigned from dhcp take precedence over%0a%3c # values set here. However, setting the values still prevents the questions%0a%3c # from being shown, even if values come from dhcp.%0a%3c d-i netcfg/get_hostname string newdebian%0a%3c d-i netcfg/get_domain string local%0a%3c # Disable that annoying WEP key dialog.%0a%3c d-i netcfg/wireless_wep string%0a%3c # The wacky dhcp hostname that some ISPs use as a password of sorts.%0a%3c #d-i netcfg/dhcp_hostname string radish%0a%3c d-i preseed/early_command string anna-install network-console%0a%3c # Setup ssh password%0a%3c d-i network-console/password password install%0a%3c d-i network-console/password-again password install%0a%3c (:sourceend:)%0a%3c %0a%3c 7. Recreate md5sum.txt file%0a%3c (:source lang=bash:)%0a%3c md5sum `find -follow -type f` > md5sum.txt%0a%3c (:sourceend:)%0a%3c %0a%3c 8. Create your new iso image%0a%3c %0a%3c (:source lang=bash:)%0a%3c mkisofs -o ../custom_install.iso -r -J -no-emul-boot -boot-load-size 4 -boot-info-table -b isolinux/isolinux.bin -c isolinux/boot.cat ../isonew%0a%3c (:sourceend:)%0a%3c %0a%3c The image you just obtained is ready to burn. This loads everything automatically and goes to the SSH screen.%0a%3c %0a%3c Thanks go to people on various debian forums, this information was collected via trial and error and by combining info found around. Have fun with your shiny new headless debian box.%0a%3c (:linkwikiwords:)%0a%3c %0a%3c >>comment%3c%3c%0a%3c Summary: I have a headless machine at home that I plan to use as a backup and development server. %0a%3c Tags: debian,ssh,headless%0a%3c (:tags-hide debian,ssh,headless:)%0a%3c (:title Installing Debian using only SSH | S.G. Vulcan:)%0a%3c Source: http://www.sgvulcan.com/installing-debian-using-only-ssh/%0a%3c Parent:(Technology.)Linux%0a%3c includeme:[[Technology.Linux]]%0a%3c Categories:[[!Articles]],[[!HowTos]]%0a%3c >>%3c%3c%0a%3c %0a%3c Page saved at: Wed, 26 Sep 2012 03:13:53 -0500%0a%3c %0a
host:1348648036=71.63.215.130
