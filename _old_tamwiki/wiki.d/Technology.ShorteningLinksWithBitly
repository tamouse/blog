version=pmwiki-2.2.36 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_5_8) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.162 Safari/535.19
author=ImportText
charset=ISO-8859-1
csum=fix trail markup and add tags
ctime=1275678305
host=127.0.0.1
name=Technology.ShorteningLinksWithBitly
rev=3
targets=Technology.ShorteningLinksWithBitly,Technology.HowTo
text=[[#excerpt]]%0aThe URL-shortening service bit.ly has an API that let's you get a short URL programmatically, thus making it really useful for including in web apps.%0a[[#excerptend]]%0a%0a!!Links%0a* [[http://code.google.com/p/bitly-api/wiki/ApiDocumentation | Bit.ly API Documentation]]%0a* [[http://bit.ly/a/your_api_key | Bit.ly API keys]] - must be logged in first -- once logged in, can select from the @@Tools@@ menu.%0a%0a!!HowTo%0aThe basic call to the bit.ly API is as follows:%0a%0a[@%0a http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl=ESCAPEDURL&format=(txt|json|xml)%0a@]%0a%0aThe @@format=@@ parameter determines how bit.ly will return the shortened URL.%0a* txt - a bare URL without any markup, e.g. @@[=http://bit.ly/code=]@@%0a* json - returned in a json-compatible format%0a* xml - returned as xml%0a%0aIf bit.ly has errors in generating the URL, it returns a short HTML page. If it doesn't recognize the login or key, it returns nothing. Thus you should check for these on return:%0a%0a(:source lang=php linenum header="PHP example":)%0a$longurl='http://www.example.com';%0a$bitlylogin='BITLY_LOGIN'; // your login name here%0a$bitlyapikey='BITLY_API_KEY'; // your api key here%0a$shorturl = file_as_content("http://api.bit.ly/v3/shorten?login=$bitlylogin&apikey=$bitlyapikey&longUrl=' . urlescape($longurl) . '&format=txt');%0aif (!empty($shorturl) && strpos($shorturl,'%3chtml>') === false) {%0a   # procede with the shortened url%0a}%0a(:sourceend:)%0a%0a(:source lang=perl linenum header="Perl example":)%0ause strict;%0ause LWP::UserAgent;%0ause URI::Escape;%0a%0amy $longurl='http://www.example.com';%0amy $bitlylogin='BITLY_USER';%0amy $bitlyapikey='BITLY_API_KEY';%0a%0amy $ua = LWP::UserAgent->new;%0a$ua->timeout(10);%0a$ua->user_agent('Mozilla/5.0 (compatible; MSIE 7.0; Windows NT 6.0');%0amy $response = $ua->get('http://api.bit.ly/v3/shorten?login=$bitlylogin&apikey=$bitlyapikey&longUrl=' . uriescape($longurl) . '&format=txt');%0adie $response->status_line if (!$response->is_success);%0aprint $response->decoded_content;%0a(:sourceend:)%0a%0a%0a%0a(:Summary:using the url shortening service programmatically:)%0a(:Parent:(Technology.)Tools:)%0a(:IncludeMe:[[(Technology.)Tools]]:)%0a(:Categories:[[!HowTos]]:)%0a(:Tags: link shortener:)%0a(:tags-hide link shortener :)%0a
time=1334714369
author:1334714369=ImportText
diff:1334714369:1308234612:=1c1,6%0a%3c [[#excerpt]]%0a---%0a> (:Summary:using the url shortening service programmatically:)%0a> [[%3c%3c]]%0a> %0a> %25trail%25 %3c%3c|ComputerStuff|>>\\%0a> %3c%3c|SoftwareAndWebDevelopment|>>%0a> %0a3,5c8%0a%3c [[#excerptend]]%0a%3c %0a%3c !!Links%0a---%0a> %0a9d11%0a%3c !!HowTo%0a12,15c14,15%0a%3c [@%0a%3c  http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl=ESCAPEDURL&format=(txt|json|xml)%0a%3c @]%0a%3c %0a---%0a>  [=http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl=ESCAPEDURL&format=(txt|json|xml)=]%0a> %0a23,57c23,34%0a%3c (:source lang=php linenum header="PHP example":)%0a%3c $longurl='http://www.example.com';%0a%3c $bitlylogin='BITLY_LOGIN'; // your login name here%0a%3c $bitlyapikey='BITLY_API_KEY'; // your api key here%0a%3c $shorturl = file_as_content("http://api.bit.ly/v3/shorten?login=$bitlylogin&apikey=$bitlyapikey&longUrl=' . urlescape($longurl) . '&format=txt');%0a%3c if (!empty($shorturl) && strpos($shorturl,'%3chtml>') === false) {%0a%3c    # procede with the shortened url%0a%3c }%0a%3c (:sourceend:)%0a%3c %0a%3c (:source lang=perl linenum header="Perl example":)%0a%3c use strict;%0a%3c use LWP::UserAgent;%0a%3c use URI::Escape;%0a%3c %0a%3c my $longurl='http://www.example.com';%0a%3c my $bitlylogin='BITLY_USER';%0a%3c my $bitlyapikey='BITLY_API_KEY';%0a%3c %0a%3c my $ua = LWP::UserAgent->new;%0a%3c $ua->timeout(10);%0a%3c $ua->user_agent('Mozilla/5.0 (compatible; MSIE 7.0; Windows NT 6.0');%0a%3c my $response = $ua->get('http://api.bit.ly/v3/shorten?login=$bitlylogin&apikey=$bitlyapikey&longUrl=' . uriescape($longurl) . '&format=txt');%0a%3c die $response->status_line if (!$response->is_success);%0a%3c print $response->decoded_content;%0a%3c (:sourceend:)%0a%3c %0a%3c %0a%3c %0a%3c (:Summary:using the url shortening service programmatically:)%0a%3c (:Parent:(Technology.)Tools:)%0a%3c (:IncludeMe:[[(Technology.)Tools]]:)%0a%3c (:Categories:[[!HowTos]]:)%0a%3c (:Tags: link shortener:)%0a%3c (:tags-hide link shortener :)%0a---%0a> In php:%0a>    $shorturl = file_as_content('[=http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl==]' . urlescape($longurl) . '&format=txt');%0a>    if (!empty($shorturl) && strpos($shorturl,'%3chtml>') === false) {%0a>       # procede with the shortened url%0a>    }%0a> %0a> %0a> %0a> %0a> %0a> %25trail%25 '''Categories:''' [[!ComputerStuff]]%0a> '''Tags:'' (:tags short web links, howto, php, web development, internet :)%0a
host:1334714369=127.0.0.1
author:1308234612=tamara
csum:1308234612=fix trail markup and add tags
diff:1308234612:1275678305:minor=3,6c3,4%0a%3c %0a%3c %25trail%25 %3c%3c|ComputerStuff|>>\\%0a%3c %3c%3c|SoftwareAndWebDevelopment|>>%0a%3c %0a---%0a> $rframe text-align:right%25 %3c%3c|ComputerStuff|>> [[%3c%3c]] %3c%3c|SoftwareAndWebDevelopment|>>%0a> %0a33,34c31%0a%3c %25trail%25 '''Categories:''' [[!ComputerStuff]]%0a%3c '''Tags:'' (:tags short web links, howto, php, web development, internet :)%0a---%0a> %25rframe%25 '''Categories:''' [[!Uncategorized]]%0a
host:1308234612=71.63.211.0
author:1275678305=tamara
csum:1275678305=new page
diff:1275678305:1275678305:=1,31d0%0a%3c (:Summary:using the url shortening service programmatically:)%0a%3c [[%3c%3c]]%0a%3c $rframe text-align:right%25 %3c%3c|ComputerStuff|>> [[%3c%3c]] %3c%3c|SoftwareAndWebDevelopment|>>%0a%3c %0a%3c The URL-shortening service bit.ly has an API that let's you get a short URL programmatically, thus making it really useful for including in web apps.%0a%3c %0a%3c * [[http://code.google.com/p/bitly-api/wiki/ApiDocumentation | Bit.ly API Documentation]]%0a%3c * [[http://bit.ly/a/your_api_key | Bit.ly API keys]] - must be logged in first -- once logged in, can select from the @@Tools@@ menu.%0a%3c %0a%3c The basic call to the bit.ly API is as follows:%0a%3c %0a%3c  [=http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl=ESCAPEDURL&format=(txt|json|xml)=]%0a%3c %0a%3c The @@format=@@ parameter determines how bit.ly will return the shortened URL.%0a%3c * txt - a bare URL without any markup, e.g. @@[=http://bit.ly/code=]@@%0a%3c * json - returned in a json-compatible format%0a%3c * xml - returned as xml%0a%3c %0a%3c If bit.ly has errors in generating the URL, it returns a short HTML page. If it doesn't recognize the login or key, it returns nothing. Thus you should check for these on return:%0a%3c %0a%3c In php:%0a%3c    $shorturl = file_as_content('[=http://api.bit.ly/v3/shorten?login=BITLYLOGIN&apikey=BITLYAPIKEY&longUrl==]' . urlescape($longurl) . '&format=txt');%0a%3c    if (!empty($shorturl) && strpos($shorturl,'%3chtml>') === false) {%0a%3c       # procede with the shortened url%0a%3c    }%0a%3c %0a%3c %0a%3c %0a%3c %0a%3c %0a%3c %25rframe%25 '''Categories:''' [[!Uncategorized]]%0a
host:1275678305=71.193.74.221
