version=pmwiki-2.2.35 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; Linux i686; rv:7.0.1) Gecko/20100101 Firefox/7.0.1
author=tamara
charset=ISO-8859-1
csum=(:title Secure String Interpolation:)  Link: %25newwin%25 http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html  &gt;&gt;quote&lt;&lt;  (:source lang=html4strict  tabwidth=4 -getcode:) It should be clear that the programmer intended the substitutions $name_of_planet and $title_of_potentate to be text in an html page, and that $time_units is part of an HTML attribute. Obviously, the browser can handle all those distinctions when the time comes to render a page, but at the time the string interpolation is executed, it has no way to tell that one string is HTML, and another is not. The problem is one of early binding &mdash; acting before enough information is available to make good decisions. 
ctime=1316246793
host=71.63.211.0
name=SavedLinks.SecureStringInterpolation
rev=3
targets=SavedLinks.HomePage,SavedLinks.IncludeMe,Category.ComputerStuff
text=(:if false:)%0aSummary:an article on how to secure your web site from attacks based on interpolating strings.%0aParent:SavedLinks(.HomePage)%0aIncludeMe:[[SavedLinks.HomePage]]%0aTags:programming, security, web development, string interpolation, bookmark%0a(:tags-hide programming, security, web development, string interpolation, bookmark :)%0aCategories: [[!ComputerStuff]]%0a(:ifend:)%0a(:title Secure String Interpolation:)%0a%0aLink: %25newwin%25 http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html%0a%0a''Mike Samuel - 29-Jan-2008''%0a%0a>>quote%3c%3c%0a%0aString Interpolation, the "Hello $name_of_planet!" style of generating strings, familiar to Perl, PHP, and Ruby programmers, provides a simple and intuitive way of specifying content in many languages from HTML to SQL to URLS.%0a%0aIt also makes it very easy to introduce serious security problems. SQL Injection, Script Injection, XML External Entity Injection (XXE), and Cross Site Scripting (XSS) attacks are results of a failure to properly escape user-supplied data before splicing it into a web-page, a SQL query, or a shell command.%0a%0aThese problems are not inherent to String Interpolation though. The strings themselves contain more than enough information to figure out how to safely incorporate user data. Consider the code snippet:%0a%0a(:source lang=html4strict  tabwidth=4 -getcode:)%0a%3chtml>%0a  %3chead>%0a    %3ctitle>Hello $name_of_planet!%3c/title>%0a  %3c/head>%0a  %3cbody>%0a    %3ch1>We come in peace.%3c/h1>%0a    %3cp>Take us to your%0a      %3cabbr title="May (s)he live for many $time_units!">%0a        $title_of_potentate%0a      %3c/abbr>.%0a    %3c/p>%0a  %3c/body>%0a%3c/html>%0a(:sourceend:)%0a%0aIt should be clear that the programmer intended the substitutions $name_of_planet and $title_of_potentate to be text in an html page, and that $time_units is part of an HTML attribute. Obviously, the browser can handle all those distinctions when the time comes to render a page, but at the time the string interpolation is executed, it has no way to tell that one string is HTML, and another is not. The problem is one of early binding &mdash; acting before enough information is available to make good decisions.%0a%0aBelow I discuss the benefits of string interpolation, outline some of the alternatives to string interpolation, show how interpolation can benefit from late binding, and explain how it can be bolted onto languages like Javascript. I use Javascript throughout the examples since Javascript examples can be run in browser, but the security problems discussed herein occur in code written in many languages.%0a>>%3c%3c%0a
time=1321343987
title=Secure String Interpolation
author:1321343987=tamara
diff:1321343987:1321338668:=9,12c9,11%0a%3c (:title Secure String Interpolation:)%0a%3c %0a%3c Link: %25newwin%25 http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html%0a%3c %0a---%0a> %0a> [++[[Secure String Interpolation -> http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html]]++]%0a> %0a15,16c14,15%0a%3c >>quote%3c%3c%0a%3c %0a---%0a> >>margin-left=2em margin-right=2em bgcolor=#DDD font-style=italic%3c%3c%0a> %0a23c22%0a%3c (:source lang=html4strict  tabwidth=4 -getcode:)%0a---%0a> (:source lang=html4strict linenum tabwidth=4:)%0a39c38%0a%3c It should be clear that the programmer intended the substitutions $name_of_planet and $title_of_potentate to be text in an html page, and that $time_units is part of an HTML attribute. Obviously, the browser can handle all those distinctions when the time comes to render a page, but at the time the string interpolation is executed, it has no way to tell that one string is HTML, and another is not. The problem is one of early binding &mdash; acting before enough information is available to make good decisions.%0a---%0a> It should be clear that the programmer intended the substitutions $name_of_planet and $title_of_potentate to be text in an html page, and that $time_units is part of an HTML attribute. Obviously, the browser can handle all those distinctions when the time comes to render a page, but at the time the string interpolation is executed, it has no way to tell that one string is HTML, and another is not. The problem is one of early binding — acting before enough information is available to make good decisions.%0a
host:1321343987=71.63.211.0
author:1321338668=tamara
diff:1321338668:1316246793:=1,15c1,4%0a%3c (:if false:)%0a%3c Summary:an article on how to secure your web site from attacks based on interpolating strings.%0a%3c Parent:SavedLinks(.HomePage)%0a%3c IncludeMe:[[SavedLinks.HomePage]]%0a%3c Tags:programming, security, web development, string interpolation, bookmark%0a%3c (:tags-hide programming, security, web development, string interpolation, bookmark :)%0a%3c Categories: [[!ComputerStuff]]%0a%3c (:ifend:)%0a%3c %0a%3c [++[[Secure String Interpolation -> http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html]]++]%0a%3c %0a%3c ''Mike Samuel - 29-Jan-2008''%0a%3c %0a%3c >>margin-left=2em margin-right=2em bgcolor=#DDD font-style=italic%3c%3c%0a%3c %0a---%0a> (:Summary:a brief description of the page:)%0a> %0a> !![[Secure String Interpolation -> http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html]]%0a> %0a41c30,38%0a%3c >>%3c%3c%0a---%0a> %0a> %25tags%25 Tags: (:tags programming, security, web development, string interpolation, bookmark :)%0a> %0a> %25category%25 Categories: [[!ComputerStuff]]%0a> %0a> %0a> %25categories%25 '''Categories:''' [[!Uncategorized]]%0a> %0a> %25tags%25 '''Tags:''' (:tags :)%0a
host:1321338668=71.63.211.0
author:1316246793=tamara
csum:1316246793=new link
diff:1316246793:1316246793:=1,38d0%0a%3c (:Summary:a brief description of the page:)%0a%3c %0a%3c !![[Secure String Interpolation -> http://google-caja.googlecode.com/svn/changes/mikesamuel/string-interpolation-29-Jan-2008/trunk/src/js/com/google/caja/interp/index.html]]%0a%3c %0a%3c String Interpolation, the "Hello $name_of_planet!" style of generating strings, familiar to Perl, PHP, and Ruby programmers, provides a simple and intuitive way of specifying content in many languages from HTML to SQL to URLS.%0a%3c %0a%3c It also makes it very easy to introduce serious security problems. SQL Injection, Script Injection, XML External Entity Injection (XXE), and Cross Site Scripting (XSS) attacks are results of a failure to properly escape user-supplied data before splicing it into a web-page, a SQL query, or a shell command.%0a%3c %0a%3c These problems are not inherent to String Interpolation though. The strings themselves contain more than enough information to figure out how to safely incorporate user data. Consider the code snippet:%0a%3c %0a%3c (:source lang=html4strict linenum tabwidth=4:)%0a%3c %3chtml>%0a%3c   %3chead>%0a%3c     %3ctitle>Hello $name_of_planet!%3c/title>%0a%3c   %3c/head>%0a%3c   %3cbody>%0a%3c     %3ch1>We come in peace.%3c/h1>%0a%3c     %3cp>Take us to your%0a%3c       %3cabbr title="May (s)he live for many $time_units!">%0a%3c         $title_of_potentate%0a%3c       %3c/abbr>.%0a%3c     %3c/p>%0a%3c   %3c/body>%0a%3c %3c/html>%0a%3c (:sourceend:)%0a%3c %0a%3c It should be clear that the programmer intended the substitutions $name_of_planet and $title_of_potentate to be text in an html page, and that $time_units is part of an HTML attribute. Obviously, the browser can handle all those distinctions when the time comes to render a page, but at the time the string interpolation is executed, it has no way to tell that one string is HTML, and another is not. The problem is one of early binding — acting before enough information is available to make good decisions.%0a%3c %0a%3c Below I discuss the benefits of string interpolation, outline some of the alternatives to string interpolation, show how interpolation can benefit from late binding, and explain how it can be bolted onto languages like Javascript. I use Javascript throughout the examples since Javascript examples can be run in browser, but the security problems discussed herein occur in code written in many languages.%0a%3c %0a%3c %25tags%25 Tags: (:tags programming, security, web development, string interpolation, bookmark :)%0a%3c %0a%3c %25category%25 Categories: [[!ComputerStuff]]%0a%3c %0a%3c %0a%3c %25categories%25 '''Categories:''' [[!Uncategorized]]%0a%3c %0a%3c %25tags%25 '''Tags:''' (:tags :)%0a
host:1316246793=71.63.211.0
