version=pmwiki-2.2.43 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36
author=tamara
charset=ISO-8859-1
csum=
ctime=1370296119
host=23.30.226.45
name=SavedArticles.Python532UserTriggerableNullPointerDereferenceDueToUtterPlebbery
rev=1
targets=Category.Articles,Category.Humour,SavedArticles.HomePage,SavedArticles.IncludeMe,SavedArticles.DBRefs,SavedArticles.DBRef,SavedArticles.PyObject,SavedArticles.PyDict,SavedArticles.MongoClient,SavedArticles.ImportError,SavedArticles.PyMongo,SavedArticles.McGee,SavedArticles.MongoDB
text=>>comment%3c%3c%0aTitle: User-triggerable NULL pointer dereference due to utter plebbery%0a(:title {*$:Title} :)%0aSummary: a rather comical bug report that brings in words such as 'plebbery' and 'LOLLERPLEX'%0aCategories: [[!Articles]], [[!Humour]]%0aTags: funny, geek, humour, bug report, null%0a(:tags-hide funny, geek, humour, bug report, null:)%0aSource: https://jira.mongodb.org/browse/PYTHON-532%0aParent:SavedArticles(.HomePage)%0aIncludeMe:[[SavedArticles.HomePage]]%0a>>%3c%3c%0a%0a%0a%0a%0a%0a! [[https://jira.mongodb.org/secure/MyJiraHome.jspa | https://www.10gen.com/static/images/logo-mongodb-for-jira.png]]%0a%0a* [[https://jira.mongodb.org/login.jsp?os_destination=/browse/PYTHON-532 | Log In]]  [[https://jira.mongodb.org# | Access more options ]]%0a** [[https://docs.atlassian.com/jira/docs-051/JIRA+Documentation | Online Help]]%0a** [[http://docs.atlassian.com/greenhopper/docs-0610/GreenHopper+Documentation | GreenHopper Help]]%0a** [[http://answers.atlassian.com/tags/agile/ | Agile Answers]]%0a** [[https://jira.mongodb.org/secure/ViewKeyboardShortcuts!default.jspa | Keyboard Shortcuts]]%0a** [[http://www.atlassian.com/software/jira | About JIRA]]%0a** [[https://jira.mongodb.org/secure/JiraCreditsPage!default.jspa | JIRA Credits]]%0a** [[https://docs.atlassian.com/jira/docs-051/whatsnew/iframe | What’s New]]%0a%0a* [[https://jira.mongodb.org/secure/Dashboard.jspa | Dashboards]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+d)]]%0a* [[https://jira.mongodb.org/browse/PYTHON | Projects]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+p)]]%0a* [[https://jira.mongodb.org/secure/IssueNavigator.jspa | Issues]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+i)]]%0a* [[https://jira.mongodb.org/secure/GreenHopper.jspa | Agile]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+g)]]%0a%0a* Quick Search%0a%0a   https://jira.mongodb.org/secure/projectavatar?pid=10004&avatarId=10908&size=large%0a%0a* [[https://jira.mongodb.org/browse/PYTHON | Python Driver]]%0a* [[https://jira.mongodb.org/browse/PYTHON-532 | PYTHON-532]]%0a%0a! [[https://jira.mongodb.org/browse/PYTHON-532 | User-triggerable NULL pointer dereference due to utter plebbery]]%0a%0a* [[https://jira.mongodb.org/secure/GHGoToBoard.jspa?issueId=77390 | Agile Board]]%0a* More Actions%0a%0a* [[https://jira.mongodb.org# | Views]]%0a** [[https://jira.mongodb.org/si/jira.issueviews:issue-xml/PYTHON-532/PYTHON-532.xml | XML]]%0a** [[https://jira.mongodb.org/si/jira.issueviews:issue-word/PYTHON-532/PYTHON-532.doc | Word]]%0a** [[https://jira.mongodb.org/si/jira.issueviews:issue-html/PYTHON-532/PYTHON-532.html | Printable]]%0a%0a!!! Details%0a%0a* '''Type:'''  https://jira.mongodb.org/images/icons/bug.gif Bug%0a* '''Status:'''  https://jira.mongodb.org/images/icons/status_closed.gif Closed%0a* '''Priority:'''  https://jira.mongodb.org/images/icons/priority_critical.gif Critical - P2%0a* '''Resolution:'''  Fixed%0a* '''Affects Version/s:'''  None%0a* '''Fix Version/s:'''   [[https://jira.mongodb.org/browse/PYTHON/fixforversion/12581 | 2.5.2]]%0a* '''Labels:'''None%0a* '''Environment:''' ALL THE ENVIRONMENTS%0a%0a* '''Backward Breaking:''' Yes%0a* '''Operating System:''' ALL%0a* '''# Replies:''' 11%0a%0a!!! Description%0a%0aSteps to reproduce:%0a%0aStep 1. Use Mongo as WEB SCALE DOCUMENT STORE OF CHOICE LOL%0a%0aStep 2. Assume basic engineering principles applied throughout due to HEAVY MARKETING SUGGESTING AWESOMENESS.%0a%0aStep 3. Spend 6 months fighting plebbery across the spectrum, mostly succeed.%0a%0aStep 4. NIGHT BEFORE INVESTOR DEMO, TRY UPLOADING SOME DATA WITH "{$ref: '#/mongodb/plebtastic'"%0a%0aStep 5. LOL WTF?!?!? PYMONGO CRASH?? :OOO LOOOL WEBSCALE%0a%0aStep 6. It's 4am now. STILL INVESTIGATING%0a%0ab4cb9be0 pymongo/_cbsonmodule.c (Mike Dirolf 2009-11-10 14:54:39 -0500 1196) /* Decoding for DBRefs */%0a%0aOh Mike!!!%0a%0aStep 7. DISCOVER PYMONGO DOES NOT CHECK RETURN VALUES IN MULTIPLE PLACES. DISCOVER ORIGINAL AUTHOR SHOULD NOT BE ALLOWED NEAR COMPUTER%0a%0a0558b0d4 pymongo/_cbsonmodule.c (Mike Dirolf 2009-06-08 15:06:12 -0400 1197) if (strcmp(buffer + '''position + 5, "$ref") == 0) { /''' DBRef */ \\%0af3da57be pymongo/_cbsonmodule.c (sibsibsib 2010-08-03 13:24:14 +0800 1198) PyObject* dbref; \\%0ab4cb9be0 pymongo/_cbsonmodule.c (Mike Dirolf 2009-11-10 14:54:39 -0500 1199) PyObject* collection = PyDict_GetItemString(value, "$ref"); \\%0a... \\%0a30c253e6 pymongo/_cbsonmodule.c (Mike Dirolf 2010-06-22 12:29:20 -0400 1206) PyDict_DelItemString(value, "$id"); \\%0a... \\%0a6b0a9ccb pymongo/_cbsonmodule.c (Mike Dirolf 2010-06-21 15:15:00 -0400 1220) Py_DECREF(id);%0a%0aLOOOOL!%0a%0aOH MIKE OH MIKE!! BUT WHAT IF $ref DOESNT HAVE $id KEY? LOOL%0a%0aStep 8. REALIZE I CAN CRASH 99%25 OF ALL WEB 3.9 SHIT-TASTIC WEBSCALE MONGO-DEPLOYING SERVICES WITH 16 BYTE POST%0a%0aStep 9. REALIZE 10GEN ARE TOO WORTHLESSLY CLUELESS TO LICENCE A STATIC ANALYZER THAT WOULD HAVE NOTICED THIS PROBLEM IN 0.0000001 NANOSECONDS?!!?!?@#%0a%0aStep 10. TRY DELETING _cbson.so.%0a%0aStep 11. LOOOOOOOOOOOOL MORE NULL PTR DEREFS IN _cmessage.so!!?!? LOLLERPLEX??!? NULL IS FOR LOSERS LOLOL%0a%0aSteps to fix:%0a%0a1. MIKE WAS BORN A TECH WRITER. REVOKE COMMIT PRIVS TODAY%0a%0a2. BUY A GODDAMNED COVERITY LICENCE YOU AMATEURS%0a%0a3. ADD process_dbrefs=False TO ALL THE DRIVERS%0a%0a4. FIX NULL PTR DEREFERENCE%0a%0a5. PUBLISH SECURITY ADVISORY OR I WILL DO IT FOR YOU%0a%0a!!! Activity%0a%0a[[https://jira.mongodb.org/browse/PYTHON-532?actionOrder=desc | Ascending order - Click to sort in descending order]]%0a%0a* [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel | '''All''']]%0a* '''Comments'''%0a* [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel | '''History''']]%0a* [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab | '''Activity''']]%0a%0a[[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349755&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349755 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=spf13 | Steve Francia]] added a comment - May 31 2013 12:29:33 PM UTC%0a%0aThank you for the bug report. We have people looking into this issue and should have a resolution soon.%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=spf13 | Steve Francia]] added a comment - May 31 2013 12:29:33 PM UTC Thank you for the bug report. We have people looking into this issue and should have a resolution soon. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349758&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349758 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=mpobrien | Michael O'Brien]] added a comment - May 31 2013 12:37:26 PM UTC - edited%0a%0aTo reproduce:%0a%0a– in mongo shell:%0a%0a db.python532.insert({x : {"$ref" : "whatever"} });%0a%0ahttps://jira.mongodb.org/s/en_UScn8g8z/782/6/1.6.0/_/download/resources/jira.plugin.syntaxhighlighter.macro.syntaxplugin:images/blank.png%0a%0a– in python shell%0a%0a import pymongo%0a pymongo.MongoClient().test.python532.find_one()%0a%0ahttps://jira.mongodb.org/s/en_UScn8g8z/782/6/1.6.0/_/download/resources/jira.plugin.syntaxhighlighter.macro.syntaxplugin:images/blank.png%0a%0aIt's worth noting that pymongo won't let you make a DBRef without the _id, so in order to hit the bug you need to save a doc in some way that bypasses any validation (e.g. mongo shell)%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=mpobrien | Michael O'Brien]] added a comment - May 31 2013 12:37:26 PM UTC - edited To reproduce: – in mongo shell: db.python532.insert({x : {"$ref" : "whatever"} }); – in python shell import pymongo pymongo.MongoClient().test.python532.find_one() It's worth noting that pymongo won't let you make a DBRef without the _id, so in order to hit the bug you need to save a doc in some way that bypasses any validation (e.g. mongo shell) [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349768&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349768 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 12:49:03 PM UTC%0a%0aWe were using find_and_modify() for the insert, which doesn't seem to trigger that check.%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 12:49:03 PM UTC We were using find_and_modify() for the insert, which doesn't seem to trigger that check. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349798&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349798 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=dissappointed_jira_viewer | Very Disappointed ]] added a comment - May 31 2013 01:27:40 PM UTC%0a%0aIs that all? So blunt answers...%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=dissappointed_jira_viewer | Very Disappointed ]] added a comment - May 31 2013 01:27:40 PM UTC Is that all? So blunt answers... [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349850 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 02:21:52 PM UTC%0a%0aAuthor:{u'username': u'ajdavis', u'name': u'A. Jesse Jiryu Davis', u'email': u'jesse@10gen.com'} \\%0aMessage: Fix null pointer when decoding invalid DBRef [[https://jira.mongodb.org/browse/PYTHON-532 | ]]%0a%0a{-PYTHON-532-} \\%0aBranch: v2.5 \\%0ahttps://github.com/mongodb/mongo-python-driver/commit/a060c15ef87e0f0e72974c7c0e57fe811bbd06a2[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 02:21:52 PM UTC Author:{u'username': u'ajdavis', u'name': u'A. Jesse Jiryu Davis', u'email': u'jesse@10gen.com'} Message: Fix null pointer when decoding invalid DBRef PYTHON-532 Branch: v2.5 https://github.com/mongodb/mongo-python-driver/commit/a060c15ef87e0f0e72974c7c0e57fe811bbd06a2 [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349945&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349945 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=justanyone | Kevin J. Rice]] added a comment - May 31 2013 03:48:02 PM UTC%0a%0a[from disinterested observer] Gotta say: Interesting wording. Apparently, 'plebbery' derives from Latin 'plebius' meaning 'of common people', and carries elites-deriding-commoners connotations.%0a%0aI'm happy to be corrected, but it seems to me to imply snobbishness in the same way that someone claiming to be 'L33t' automatically self-nominates as a script kiddie. Someone needs to enter this in the Urban Dictionary before it flash-in-the-pan-poofs into the 7th-grade-lexicon dustbin of 'so-yesterday'.%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=justanyone | Kevin J. Rice]] added a comment - May 31 2013 03:48:02 PM UTC [from disinterested observer] Gotta say: Interesting wording. Apparently, 'plebbery' derives from Latin 'plebius' meaning 'of common people', and carries elites-deriding-commoners connotations. I'm happy to be corrected, but it seems to me to imply snobbishness in the same way that someone claiming to be 'L33t' automatically self-nominates as a script kiddie. Someone needs to enter this in the Urban Dictionary before it flash-in-the-pan-poofs into the 7th-grade-lexicon dustbin of 'so-yesterday'. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349994&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349994 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 04:46:05 PM UTC - edited%0a%0a[[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]], thanks for reporting this problem. We've fixed the primary issue and will do a 2.5.2 release to address it.%0a%0aWe are still working on the segfault related to removing _cbson.so. That problem appears to be in python's import machinery in py2, but we want to find a workaround. In python3.1 and newer ImportError is properly raised, allowing PyMongo to use the pure python bson module.%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 04:46:05 PM UTC - edited Jibbers McGee , thanks for reporting this problem. We've fixed the primary issue and will do a 2.5.2 release to address it. We are still working on the segfault related to removing _cbson.so. That problem appears to be in python's import machinery in py2, but we want to find a workaround. In python3.1 and newer ImportError is properly raised, allowing PyMongo to use the pure python bson module. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350001 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 04:56:11 PM UTC - edited%0a%0aApologies to anyone offended by this report. Thanks for your effort!%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 04:56:11 PM UTC - edited Apologies to anyone offended by this report. Thanks for your effort! [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350004 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 05:01:03 PM UTC%0a%0a[[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]], no problem. I understand your frustration. Thanks again for the report.%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 05:01:03 PM UTC Jibbers McGee , no problem. I understand your frustration. Thanks again for the report. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350164&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350164 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=imatlin | Igor Matlin]] added a comment - May 31 2013 08:12:12 PM UTC%0a%0aHello [[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] and others,%0a%0aMy name is Igor Matlin and I work for Coverity. 10gen does license our software, and to my knowledge they have been quite diligent in running and fixing issues identified by Coverity Static Analysis.%0a%0aUnfortunately, the code in question was not flagged. The source of PyDict_GetItemString was not available during scan, so static analysis engine had no evidence that the function can return NULL. Since flagging every instance where a return value is not checked tends to generate a lot of noise, most of our customers only scan for cases where evidence exists that a function can return NULL and analysis determines that return value is routinely checked.%0a%0aCoverity static analysis engine can be configured to be more aggressive and treat all functions where source is not available as potentially returning NULL. We will work with 10gen to determine the best combination of analysis options going forward.%0a%0aRegards,%0a%0aIgor Matlin%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=imatlin | Igor Matlin]] added a comment - May 31 2013 08:12:12 PM UTC Hello Jibbers McGee and others, My name is Igor Matlin and I work for Coverity. 10gen does license our software, and to my knowledge they have been quite diligent in running and fixing issues identified by Coverity Static Analysis. Unfortunately, the code in question was not flagged. The source of PyDict_GetItemString was not available during scan, so static analysis engine had no evidence that the function can return NULL. Since flagging every instance where a return value is not checked tends to generate a lot of noise, most of our customers only scan for cases where evidence exists that a function can return NULL and analysis determines that return value is routinely checked. Coverity static analysis engine can be configured to be more aggressive and treat all functions where source is not available as potentially returning NULL. We will work with 10gen to determine the best combination of analysis options going forward. Regards, Igor Matlin [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350210&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350210 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 09:16:08 PM UTC%0a%0aAuthor:{u'username': u'behackett', u'name': u'Bernie Hackett', u'email': u'bernie@10gen.com'} \\%0aMessage: Fix import when _cbson unavailable [[https://jira.mongodb.org/browse/PYTHON-532 | ]]%0a%0a{-PYTHON-532-}%0a%0aThis ensures that we don't import _cmessage in \\%0aan incomplete state or segfault if _cbson isn't \\%0aavailable. If _cbson.so has been removed we fall \\%0aback to pure python. \\%0aBranch: v2.5 \\%0ahttps://github.com/mongodb/mongo-python-driver/commit/7395ce72bf54ef64d723e1b4140556ebd12a2a07%0a%0a[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 09:16:08 PM UTC Author:{u'username': u'behackett', u'name': u'Bernie Hackett', u'email': u'bernie@10gen.com'} Message: Fix import when _cbson unavailable PYTHON-532 This ensures that we don't import _cmessage in an incomplete state or segfault if _cbson isn't available. If _cbson.so has been removed we fall back to pure python. Branch: v2.5 https://github.com/mongodb/mongo-python-driver/commit/7395ce72bf54ef64d723e1b4140556ebd12a2a07%0a%0a!!! People%0a%0a* :: Assignee::  Bernie Hackett%0a:: Reporter::  Jibbers McGee%0a:: Participants:: [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=auto | auto]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=behackett | Bernie Hackett]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=imatlin | Igor Matlin]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=jibberz | Jibbers McGee]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=justanyone | Kevin J. Rice]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=mpobrien | Michael O'Brien]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=spf13 | Steve Francia]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=dissappointed_jira_viewer | Very Disappointed ]]%0a%0aVote (4) Watch (28)%0a%0a!!! Dates%0a%0a* :: Created::  Friday 09:54 AM UTC%0a:: Updated::  Today 12:04 AM UTC%0a:: Resolved::  Saturday 02:48 AM UTC%0a:: Days since reply::  3 days ago%0a:: Date of 1st Reply::  31/May/13 12:29 PM%0a%0a!!! Agile%0a%0a* [[https://jira.mongodb.org/secure/GHGoToBoard.jspa?issueId=77390&inline=true |  View on Board ]]%0a%0a* [[http://www.atlassian.com/software/jira | Atlassian JIRA]] (v5.1.3#782-sha1:4389c89)%0a* [[https://jira.mongodb.org/secure/CreateIssue!default.jspa | Report a problem]]%0a%0a* Powered by a free Atlassian [[http://www.atlassian.com/software/jira | JIRA]] open source license for MongoDB. Try JIRA - [[http://www.atlassian.com/software/jira | bug tracking software]] for ''your'' team.%0a
time=1370296119
title=User-triggerable NULL pointer dereference due to utter plebbery 
author:1370296119=tamara
diff:1370296119:1370296119:=1,239d0%0a%3c >>comment%3c%3c%0a%3c Title: User-triggerable NULL pointer dereference due to utter plebbery%0a%3c (:title {*$:Title} :)%0a%3c Summary: a rather comical bug report that brings in words such as 'plebbery' and 'LOLLERPLEX'%0a%3c Categories: [[!Articles]], [[!Humour]]%0a%3c Tags: funny, geek, humour, bug report, null%0a%3c (:tags-hide funny, geek, humour, bug report, null:)%0a%3c Source: https://jira.mongodb.org/browse/PYTHON-532%0a%3c Parent:SavedArticles(.HomePage)%0a%3c IncludeMe:[[SavedArticles.HomePage]]%0a%3c >>%3c%3c%0a%3c %0a%3c %0a%3c %0a%3c %0a%3c %0a%3c ! [[https://jira.mongodb.org/secure/MyJiraHome.jspa | https://www.10gen.com/static/images/logo-mongodb-for-jira.png]]%0a%3c %0a%3c * [[https://jira.mongodb.org/login.jsp?os_destination=/browse/PYTHON-532 | Log In]]  [[https://jira.mongodb.org# | Access more options ]]%0a%3c ** [[https://docs.atlassian.com/jira/docs-051/JIRA+Documentation | Online Help]]%0a%3c ** [[http://docs.atlassian.com/greenhopper/docs-0610/GreenHopper+Documentation | GreenHopper Help]]%0a%3c ** [[http://answers.atlassian.com/tags/agile/ | Agile Answers]]%0a%3c ** [[https://jira.mongodb.org/secure/ViewKeyboardShortcuts!default.jspa | Keyboard Shortcuts]]%0a%3c ** [[http://www.atlassian.com/software/jira | About JIRA]]%0a%3c ** [[https://jira.mongodb.org/secure/JiraCreditsPage!default.jspa | JIRA Credits]]%0a%3c ** [[https://docs.atlassian.com/jira/docs-051/whatsnew/iframe | What’s New]]%0a%3c %0a%3c * [[https://jira.mongodb.org/secure/Dashboard.jspa | Dashboards]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+d)]]%0a%3c * [[https://jira.mongodb.org/browse/PYTHON | Projects]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+p)]]%0a%3c * [[https://jira.mongodb.org/secure/IssueNavigator.jspa | Issues]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+i)]]%0a%3c * [[https://jira.mongodb.org/secure/GreenHopper.jspa | Agile]]  [[https://jira.mongodb.org# | Access more options (Ctrl+Alt+g)]]%0a%3c %0a%3c * Quick Search%0a%3c %0a%3c    https://jira.mongodb.org/secure/projectavatar?pid=10004&avatarId=10908&size=large%0a%3c %0a%3c * [[https://jira.mongodb.org/browse/PYTHON | Python Driver]]%0a%3c * [[https://jira.mongodb.org/browse/PYTHON-532 | PYTHON-532]]%0a%3c %0a%3c ! [[https://jira.mongodb.org/browse/PYTHON-532 | User-triggerable NULL pointer dereference due to utter plebbery]]%0a%3c %0a%3c * [[https://jira.mongodb.org/secure/GHGoToBoard.jspa?issueId=77390 | Agile Board]]%0a%3c * More Actions%0a%3c %0a%3c * [[https://jira.mongodb.org# | Views]]%0a%3c ** [[https://jira.mongodb.org/si/jira.issueviews:issue-xml/PYTHON-532/PYTHON-532.xml | XML]]%0a%3c ** [[https://jira.mongodb.org/si/jira.issueviews:issue-word/PYTHON-532/PYTHON-532.doc | Word]]%0a%3c ** [[https://jira.mongodb.org/si/jira.issueviews:issue-html/PYTHON-532/PYTHON-532.html | Printable]]%0a%3c %0a%3c !!! Details%0a%3c %0a%3c * '''Type:'''  https://jira.mongodb.org/images/icons/bug.gif Bug%0a%3c * '''Status:'''  https://jira.mongodb.org/images/icons/status_closed.gif Closed%0a%3c * '''Priority:'''  https://jira.mongodb.org/images/icons/priority_critical.gif Critical - P2%0a%3c * '''Resolution:'''  Fixed%0a%3c * '''Affects Version/s:'''  None%0a%3c * '''Fix Version/s:'''   [[https://jira.mongodb.org/browse/PYTHON/fixforversion/12581 | 2.5.2]]%0a%3c * '''Labels:'''None%0a%3c * '''Environment:''' ALL THE ENVIRONMENTS%0a%3c %0a%3c * '''Backward Breaking:''' Yes%0a%3c * '''Operating System:''' ALL%0a%3c * '''# Replies:''' 11%0a%3c %0a%3c !!! Description%0a%3c %0a%3c Steps to reproduce:%0a%3c %0a%3c Step 1. Use Mongo as WEB SCALE DOCUMENT STORE OF CHOICE LOL%0a%3c %0a%3c Step 2. Assume basic engineering principles applied throughout due to HEAVY MARKETING SUGGESTING AWESOMENESS.%0a%3c %0a%3c Step 3. Spend 6 months fighting plebbery across the spectrum, mostly succeed.%0a%3c %0a%3c Step 4. NIGHT BEFORE INVESTOR DEMO, TRY UPLOADING SOME DATA WITH "{$ref: '#/mongodb/plebtastic'"%0a%3c %0a%3c Step 5. LOL WTF?!?!? PYMONGO CRASH?? :OOO LOOOL WEBSCALE%0a%3c %0a%3c Step 6. It's 4am now. STILL INVESTIGATING%0a%3c %0a%3c b4cb9be0 pymongo/_cbsonmodule.c (Mike Dirolf 2009-11-10 14:54:39 -0500 1196) /* Decoding for DBRefs */%0a%3c %0a%3c Oh Mike!!!%0a%3c %0a%3c Step 7. DISCOVER PYMONGO DOES NOT CHECK RETURN VALUES IN MULTIPLE PLACES. DISCOVER ORIGINAL AUTHOR SHOULD NOT BE ALLOWED NEAR COMPUTER%0a%3c %0a%3c 0558b0d4 pymongo/_cbsonmodule.c (Mike Dirolf 2009-06-08 15:06:12 -0400 1197) if (strcmp(buffer + '''position + 5, "$ref") == 0) { /''' DBRef */ \\%0a%3c f3da57be pymongo/_cbsonmodule.c (sibsibsib 2010-08-03 13:24:14 +0800 1198) PyObject* dbref; \\%0a%3c b4cb9be0 pymongo/_cbsonmodule.c (Mike Dirolf 2009-11-10 14:54:39 -0500 1199) PyObject* collection = PyDict_GetItemString(value, "$ref"); \\%0a%3c ... \\%0a%3c 30c253e6 pymongo/_cbsonmodule.c (Mike Dirolf 2010-06-22 12:29:20 -0400 1206) PyDict_DelItemString(value, "$id"); \\%0a%3c ... \\%0a%3c 6b0a9ccb pymongo/_cbsonmodule.c (Mike Dirolf 2010-06-21 15:15:00 -0400 1220) Py_DECREF(id);%0a%3c %0a%3c LOOOOL!%0a%3c %0a%3c OH MIKE OH MIKE!! BUT WHAT IF $ref DOESNT HAVE $id KEY? LOOL%0a%3c %0a%3c Step 8. REALIZE I CAN CRASH 99%25 OF ALL WEB 3.9 SHIT-TASTIC WEBSCALE MONGO-DEPLOYING SERVICES WITH 16 BYTE POST%0a%3c %0a%3c Step 9. REALIZE 10GEN ARE TOO WORTHLESSLY CLUELESS TO LICENCE A STATIC ANALYZER THAT WOULD HAVE NOTICED THIS PROBLEM IN 0.0000001 NANOSECONDS?!!?!?@#%0a%3c %0a%3c Step 10. TRY DELETING _cbson.so.%0a%3c %0a%3c Step 11. LOOOOOOOOOOOOL MORE NULL PTR DEREFS IN _cmessage.so!!?!? LOLLERPLEX??!? NULL IS FOR LOSERS LOLOL%0a%3c %0a%3c Steps to fix:%0a%3c %0a%3c 1. MIKE WAS BORN A TECH WRITER. REVOKE COMMIT PRIVS TODAY%0a%3c %0a%3c 2. BUY A GODDAMNED COVERITY LICENCE YOU AMATEURS%0a%3c %0a%3c 3. ADD process_dbrefs=False TO ALL THE DRIVERS%0a%3c %0a%3c 4. FIX NULL PTR DEREFERENCE%0a%3c %0a%3c 5. PUBLISH SECURITY ADVISORY OR I WILL DO IT FOR YOU%0a%3c %0a%3c !!! Activity%0a%3c %0a%3c [[https://jira.mongodb.org/browse/PYTHON-532?actionOrder=desc | Ascending order - Click to sort in descending order]]%0a%3c %0a%3c * [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel | '''All''']]%0a%3c * '''Comments'''%0a%3c * [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel | '''History''']]%0a%3c * [[https://jira.mongodb.org/browse/PYTHON-532?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab | '''Activity''']]%0a%3c %0a%3c [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349755&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349755 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=spf13 | Steve Francia]] added a comment - May 31 2013 12:29:33 PM UTC%0a%3c %0a%3c Thank you for the bug report. We have people looking into this issue and should have a resolution soon.%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=spf13 | Steve Francia]] added a comment - May 31 2013 12:29:33 PM UTC Thank you for the bug report. We have people looking into this issue and should have a resolution soon. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349758&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349758 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=mpobrien | Michael O'Brien]] added a comment - May 31 2013 12:37:26 PM UTC - edited%0a%3c %0a%3c To reproduce:%0a%3c %0a%3c – in mongo shell:%0a%3c %0a%3c  db.python532.insert({x : {"$ref" : "whatever"} });%0a%3c %0a%3c https://jira.mongodb.org/s/en_UScn8g8z/782/6/1.6.0/_/download/resources/jira.plugin.syntaxhighlighter.macro.syntaxplugin:images/blank.png%0a%3c %0a%3c – in python shell%0a%3c %0a%3c  import pymongo%0a%3c  pymongo.MongoClient().test.python532.find_one()%0a%3c %0a%3c https://jira.mongodb.org/s/en_UScn8g8z/782/6/1.6.0/_/download/resources/jira.plugin.syntaxhighlighter.macro.syntaxplugin:images/blank.png%0a%3c %0a%3c It's worth noting that pymongo won't let you make a DBRef without the _id, so in order to hit the bug you need to save a doc in some way that bypasses any validation (e.g. mongo shell)%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=mpobrien | Michael O'Brien]] added a comment - May 31 2013 12:37:26 PM UTC - edited To reproduce: – in mongo shell: db.python532.insert({x : {"$ref" : "whatever"} }); – in python shell import pymongo pymongo.MongoClient().test.python532.find_one() It's worth noting that pymongo won't let you make a DBRef without the _id, so in order to hit the bug you need to save a doc in some way that bypasses any validation (e.g. mongo shell) [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349768&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349768 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 12:49:03 PM UTC%0a%3c %0a%3c We were using find_and_modify() for the insert, which doesn't seem to trigger that check.%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 12:49:03 PM UTC We were using find_and_modify() for the insert, which doesn't seem to trigger that check. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349798&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349798 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=dissappointed_jira_viewer | Very Disappointed ]] added a comment - May 31 2013 01:27:40 PM UTC%0a%3c %0a%3c Is that all? So blunt answers...%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=dissappointed_jira_viewer | Very Disappointed ]] added a comment - May 31 2013 01:27:40 PM UTC Is that all? So blunt answers... [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349850 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 02:21:52 PM UTC%0a%3c %0a%3c Author:{u'username': u'ajdavis', u'name': u'A. Jesse Jiryu Davis', u'email': u'jesse@10gen.com'} \\%0a%3c Message: Fix null pointer when decoding invalid DBRef [[https://jira.mongodb.org/browse/PYTHON-532 | ]]%0a%3c %0a%3c {-PYTHON-532-} \\%0a%3c Branch: v2.5 \\%0a%3c https://github.com/mongodb/mongo-python-driver/commit/a060c15ef87e0f0e72974c7c0e57fe811bbd06a2[[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 02:21:52 PM UTC Author:{u'username': u'ajdavis', u'name': u'A. Jesse Jiryu Davis', u'email': u'jesse@10gen.com'} Message: Fix null pointer when decoding invalid DBRef PYTHON-532 Branch: v2.5 https://github.com/mongodb/mongo-python-driver/commit/a060c15ef87e0f0e72974c7c0e57fe811bbd06a2 [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349945&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349945 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=justanyone | Kevin J. Rice]] added a comment - May 31 2013 03:48:02 PM UTC%0a%3c %0a%3c [from disinterested observer] Gotta say: Interesting wording. Apparently, 'plebbery' derives from Latin 'plebius' meaning 'of common people', and carries elites-deriding-commoners connotations.%0a%3c %0a%3c I'm happy to be corrected, but it seems to me to imply snobbishness in the same way that someone claiming to be 'L33t' automatically self-nominates as a script kiddie. Someone needs to enter this in the Urban Dictionary before it flash-in-the-pan-poofs into the 7th-grade-lexicon dustbin of 'so-yesterday'.%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=justanyone | Kevin J. Rice]] added a comment - May 31 2013 03:48:02 PM UTC [from disinterested observer] Gotta say: Interesting wording. Apparently, 'plebbery' derives from Latin 'plebius' meaning 'of common people', and carries elites-deriding-commoners connotations. I'm happy to be corrected, but it seems to me to imply snobbishness in the same way that someone claiming to be 'L33t' automatically self-nominates as a script kiddie. Someone needs to enter this in the Urban Dictionary before it flash-in-the-pan-poofs into the 7th-grade-lexicon dustbin of 'so-yesterday'. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=349994&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-349994 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 04:46:05 PM UTC - edited%0a%3c %0a%3c [[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]], thanks for reporting this problem. We've fixed the primary issue and will do a 2.5.2 release to address it.%0a%3c %0a%3c We are still working on the segfault related to removing _cbson.so. That problem appears to be in python's import machinery in py2, but we want to find a workaround. In python3.1 and newer ImportError is properly raised, allowing PyMongo to use the pure python bson module.%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 04:46:05 PM UTC - edited Jibbers McGee , thanks for reporting this problem. We've fixed the primary issue and will do a 2.5.2 release to address it. We are still working on the segfault related to removing _cbson.so. That problem appears to be in python's import machinery in py2, but we want to find a workaround. In python3.1 and newer ImportError is properly raised, allowing PyMongo to use the pure python bson module. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350001&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350001 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 04:56:11 PM UTC - edited%0a%3c %0a%3c Apologies to anyone offended by this report. Thanks for your effort!%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] added a comment - May 31 2013 04:56:11 PM UTC - edited Apologies to anyone offended by this report. Thanks for your effort! [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350004 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 05:01:03 PM UTC%0a%3c %0a%3c [[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]], no problem. I understand your frustration. Thanks again for the report.%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=behackett | Bernie Hackett]] added a comment - May 31 2013 05:01:03 PM UTC Jibbers McGee , no problem. I understand your frustration. Thanks again for the report. [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350164&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350164 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=imatlin | Igor Matlin]] added a comment - May 31 2013 08:12:12 PM UTC%0a%3c %0a%3c Hello [[https://jira.mongodb.org/secure/ViewProfile.jspa?name=jibberz | Jibbers McGee]] and others,%0a%3c %0a%3c My name is Igor Matlin and I work for Coverity. 10gen does license our software, and to my knowledge they have been quite diligent in running and fixing issues identified by Coverity Static Analysis.%0a%3c %0a%3c Unfortunately, the code in question was not flagged. The source of PyDict_GetItemString was not available during scan, so static analysis engine had no evidence that the function can return NULL. Since flagging every instance where a return value is not checked tends to generate a lot of noise, most of our customers only scan for cases where evidence exists that a function can return NULL and analysis determines that return value is routinely checked.%0a%3c %0a%3c Coverity static analysis engine can be configured to be more aggressive and treat all functions where source is not available as potentially returning NULL. We will work with 10gen to determine the best combination of analysis options going forward.%0a%3c %0a%3c Regards,%0a%3c %0a%3c Igor Matlin%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=imatlin | Igor Matlin]] added a comment - May 31 2013 08:12:12 PM UTC Hello Jibbers McGee and others, My name is Igor Matlin and I work for Coverity. 10gen does license our software, and to my knowledge they have been quite diligent in running and fixing issues identified by Coverity Static Analysis. Unfortunately, the code in question was not flagged. The source of PyDict_GetItemString was not available during scan, so static analysis engine had no evidence that the function can return NULL. Since flagging every instance where a return value is not checked tends to generate a lot of noise, most of our customers only scan for cases where evidence exists that a function can return NULL and analysis determines that return value is routinely checked. Coverity static analysis engine can be configured to be more aggressive and treat all functions where source is not available as potentially returning NULL. We will work with 10gen to determine the best combination of analysis options going forward. Regards, Igor Matlin [[https://jira.mongodb.org# | Hide]][[https://jira.mongodb.org/browse/PYTHON-532?focusedCommentId=350210&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-350210 | Permalink]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 09:16:08 PM UTC%0a%3c %0a%3c Author:{u'username': u'behackett', u'name': u'Bernie Hackett', u'email': u'bernie@10gen.com'} \\%0a%3c Message: Fix import when _cbson unavailable [[https://jira.mongodb.org/browse/PYTHON-532 | ]]%0a%3c %0a%3c {-PYTHON-532-}%0a%3c %0a%3c This ensures that we don't import _cmessage in \\%0a%3c an incomplete state or segfault if _cbson isn't \\%0a%3c available. If _cbson.so has been removed we fall \\%0a%3c back to pure python. \\%0a%3c Branch: v2.5 \\%0a%3c https://github.com/mongodb/mongo-python-driver/commit/7395ce72bf54ef64d723e1b4140556ebd12a2a07%0a%3c %0a%3c [[https://jira.mongodb.org# | Show]][[https://jira.mongodb.org/secure/ViewProfile.jspa?name=auto | auto]] added a comment - May 31 2013 09:16:08 PM UTC Author:{u'username': u'behackett', u'name': u'Bernie Hackett', u'email': u'bernie@10gen.com'} Message: Fix import when _cbson unavailable PYTHON-532 This ensures that we don't import _cmessage in an incomplete state or segfault if _cbson isn't available. If _cbson.so has been removed we fall back to pure python. Branch: v2.5 https://github.com/mongodb/mongo-python-driver/commit/7395ce72bf54ef64d723e1b4140556ebd12a2a07%0a%3c %0a%3c !!! People%0a%3c %0a%3c * :: Assignee::  Bernie Hackett%0a%3c :: Reporter::  Jibbers McGee%0a%3c :: Participants:: [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=auto | auto]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=behackett | Bernie Hackett]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=imatlin | Igor Matlin]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=jibberz | Jibbers McGee]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=justanyone | Kevin J. Rice]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=mpobrien | Michael O'Brien]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=spf13 | Steve Francia]], [[https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&customfield_10051=dissappointed_jira_viewer | Very Disappointed ]]%0a%3c %0a%3c Vote (4) Watch (28)%0a%3c %0a%3c !!! Dates%0a%3c %0a%3c * :: Created::  Friday 09:54 AM UTC%0a%3c :: Updated::  Today 12:04 AM UTC%0a%3c :: Resolved::  Saturday 02:48 AM UTC%0a%3c :: Days since reply::  3 days ago%0a%3c :: Date of 1st Reply::  31/May/13 12:29 PM%0a%3c %0a%3c !!! Agile%0a%3c %0a%3c * [[https://jira.mongodb.org/secure/GHGoToBoard.jspa?issueId=77390&inline=true |  View on Board ]]%0a%3c %0a%3c * [[http://www.atlassian.com/software/jira | Atlassian JIRA]] (v5.1.3#782-sha1:4389c89)%0a%3c * [[https://jira.mongodb.org/secure/CreateIssue!default.jspa | Report a problem]]%0a%3c %0a%3c * Powered by a free Atlassian [[http://www.atlassian.com/software/jira | JIRA]] open source license for MongoDB. Try JIRA - [[http://www.atlassian.com/software/jira | bug tracking software]] for ''your'' team.%0a
host:1370296119=23.30.226.45
