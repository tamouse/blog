<!DOCTYPE html>
<html><head>
  <title>TamWiki | Technology / Sinatra</title>
  <link rel='stylesheet' href='http://wiki.tamouse.org/pub/skins/print/print.css' type='text/css' />
</head>
<body>
<!--PageText-->
<div id='wikitext'>
<div  style='display: none;' > 
<p>Summary:A lightweight Ruby web application framework
Parent:(Technology.)Ruby
<span class='wikiword'><a class='createlinktext' rel='nofollow'
    href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>IncludeMe</a><a rel='nofollow' 
    class='createlink' href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>?</a></span>:<a class='wikilink' href='http://wiki.tamouse.org?n=Technology.Ruby?action=print'>Ruby</a>
Categories:<a class='categorylink' href='http://wiki.tamouse.org?n=Category.Articles'>Articles</a>
Tags: ruby, sinatra, gems, frameworks
</p></div>
<p class='vspace'><a name='excerpt' id='excerpt'></a>
<a class='external' href='http://www.sinatrarb.com' target='_blank'>Sinatra</a> is a lightweight framework written in <a class='wikilink' href='http://wiki.tamouse.org?n=Technology.Ruby?action=print'>Ruby</a> for creating simple web applications, or use as middleware in a <a class='createlinktext' rel='nofollow'
    href='http://wiki.tamouse.org?n=Technology.Rack?action=edit'>Rack</a><a rel='nofollow' 
    class='createlink' href='http://wiki.tamouse.org?n=Technology.Rack?action=edit'>?</a> environment to deliver a <a class='createlinktext' rel='nofollow'
    href='http://wiki.tamouse.org?n=Technology.DSL?action=edit'>DSL</a><a rel='nofollow' 
    class='createlink' href='http://wiki.tamouse.org?n=Technology.DSL?action=edit'>?</a> for easy routing.
<a name='excerptend' id='excerptend'></a>
</p>
<div class='vspace'></div><h2>Example program</h2>

<div class='sourceblock ' id='sourceblock1'>
  <div class='sourceblocktext'><div class="ruby"><ol><li class="li1"><div class="de1"><span class="kw3">require</span> <span class="st0">'sinatra'</span></div></li>
<li class="li1"><div class="de1"><span class="kw3">require</span> <span class="st0">'haml'</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">get <span class="st0">'/'</span> <span class="kw1">do</span></div></li>
<li class="li2"><div class="de2">&nbsp; haml <span class="re3">:index</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">get <span class="sy0">%</span>r<span class="br0">&#123;</span>^<span class="sy0">/</span>hi<span class="sy0">/</span>?$<span class="br0">&#125;</span> <span class="kw1">do</span></div></li>
<li class="li2"><div class="de2">&nbsp; <span class="st0">&quot;don't know who you're saying 'hi' to&quot;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">get <span class="st0">'/hi/:name'</span> <span class="kw1">do</span> <span class="sy0">|</span>name<span class="sy0">|</span></div></li>
<li class="li2"><div class="de2">&nbsp; haml <span class="re3">:hello</span>, <span class="re3">:locals</span> <span class="sy0">=&gt;</span> <span class="br0">&#123;</span>:message <span class="sy0">=&gt;</span> <span class="st0">&quot;Hello #{name}!<span class="es0">\n</span>&quot;</span><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">class</span> Stream</div></li>
<li class="li1"><div class="de1">&nbsp; <span class="kw1">def</span> each</div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; <span class="nu0">10</span>.<span class="me1">times</span> <span class="br0">&#123;</span><span class="sy0">|</span>i<span class="sy0">|</span> <span class="kw1">yield</span> <span class="st0">&quot;#{i}<span class="es0">\n</span>&quot;</span><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp; <span class="kw1">end</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">get <span class="st0">'/stream'</span> <span class="kw1">do</span></div></li>
<li class="li2"><div class="de2">&nbsp; <span class="br0">&#91;</span><span class="nu0">200</span>, <span class="br0">&#123;</span><span class="st0">'Content-type'</span> <span class="sy0">=&gt;</span> <span class="st0">'text/plain'</span><span class="br0">&#125;</span>, Stream.<span class="me1">new</span><span class="br0">&#93;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.Sinatra?action=sourceblock&amp;num=1' type='text/plain'>raw code</a></div>
</div>

<p class='vspace'>The little program above, when run with ruby, will start up a server (on default port 4567) that will respond to the following <span class='wikiword'>URLs</span>:
</p>
<div class='vspace'></div>
<div class='codeblock ' id='sourceblock2'>
  <div class='codeblocktext'><pre>http://example.com:4567/
http://example.com:4567/hi
http://example.com:4567/hi/
http://example.com:4567/hi/yourname
http://example.com:4567/stream
</pre></div>
  <div class='codeblocklink'><a href='http://wiki.tamouse.org?n=Technology.Sinatra?action=sourceblock&amp;num=2' type='text/plain'>raw code</a></div>
</div>

<div class='vspace'></div>
</div>

</body>
</html>
