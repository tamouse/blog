<!DOCTYPE html>
<html><head>
  <title>TamWiki | Technology / WhatIsMyIp</title>
  <link rel='stylesheet' href='http://wiki.tamouse.org/pub/skins/print/print.css' type='text/css' />
</head>
<body>
<!--PageText-->
<div id='wikitext'>
<h2>What Is My IP?</h2>
<p><a name='excerpt' id='excerpt'></a>
Since many people live behind a router, your machine's address is a local one, typically in the 192.168.x.x range, or 10.x.x.x. Sometimes it is desirable to know your external address, i.e., the one you are known by on the internet. Typically this is the address that connects directly to your router from outside.
<a name='excerptend' id='excerptend'></a>
</p>
<div class='vspace'></div><h2>External Services</h2>
<p>There are a large handfull of sites that will give you your external IP address. The simplest one offered to the public (and recommended by me) is <a class='external' href='http://whatismyip.org' target='_blank'>http://whatismyip.org</a>. It just returns your external IP address in plain text. To use in curl, simply:
</p>
<div class='vspace'></div><pre class='escaped'>
 curl -s http://whatismyip.org
</pre>
<p class='vspace'>will show you the address.
</p>
<div class='vspace'></div><h2>Home Brew PHP script</h2>
<p>If you have an external server, and would like to host your own script, here's a simple PHP script that will do it:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock1'>
  <div class='sourceblocktext'><div class="php"><div class="head">Return just the caller's IP address</div><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li>
<li class="li1"><div class="de1"><span class="kw3">header</span><span class="br0">&#40;</span><span class="st0">&quot;Content-type: text/plain;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// we're just sending plain text, no HTML</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$_SERVER</span><span class="br0">&#91;</span><span class="st_h">'REMOTE_ADDR'</span><span class="br0">&#93;</span> <span class="sy0">.</span> PHP_EOL<span class="sy0">;</span> <span class="co1">// the caller's address is in the server variables</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.WhatIsMyIp?action=sourceblock&amp;num=1' type='text/plain'>raw code</a></div>
</div>

<div class='vspace'></div><h2>Home Brew Perl CGI script</h2>
<p>An equally simple perl script if you only have CGI abilities:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock2'>
  <div class='sourceblocktext'><div class="perl"><div class="head">Perl version of what is my ip?</div><ol><li class="li1"><div class="de1"><span class="co1">#!/usr/bin/perl</span></div></li>
<li class="li1"><div class="de1"><span class="kw3">print</span> <span class="st0">&quot;Content-type: text/plain;<span class="es0">\n</span><span class="es0">\n</span>&quot;</span><span class="sy0">;</span> <span class="co1"># two linefeeds gives a space after header</span></div></li>
<li class="li1"><div class="de1"><span class="kw3">print</span> <span class="re0">$ENV</span><span class="br0">&#123;</span><span class="st_h">'REMOTE_ADDR'</span><span class="br0">&#125;</span><span class="sy0">.</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="sy0">;</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.WhatIsMyIp?action=sourceblock&amp;num=2' type='text/plain'>raw code</a></div>
</div>

<p class='vspace'>My version is at: <a class='external' href='http://tamouse.org/cgi-bin/myip.cgi' target='_blank'>http://tamouse.org/cgi-bin/myip.cgi</a>
</p>
<div class='vspace'></div><div  style='display: none;' > 
<p>Summary:how to determine your external (network-facing) IP address
Parent:(Technology.)Tools
<span class='wikiword'><a class='createlinktext' rel='nofollow'
    href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>IncludeMe</a><a rel='nofollow' 
    class='createlink' href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>?</a></span>:<a class='wikilink' href='http://wiki.tamouse.org?n=Technology.Tools?action=print'>Technology.Tools</a>
Categories:<a class='categorylink' href='http://wiki.tamouse.org?n=Category.HowTos'>HowTos</a>
Tags: networking, ip address
</p></div>
<div class='vspace'></div>
</div>

</body>
</html>
