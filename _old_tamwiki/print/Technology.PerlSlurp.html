<!DOCTYPE html>
<html><head>
  <title>TamWiki | Technology / PerlSlurp</title>
  <link rel='stylesheet' href='http://wiki.tamouse.org/pub/skins/print/print.css' type='text/css' />
</head>
<body>
<!--PageText-->
<div id='wikitext'>
<p><a name='excerpt' id='excerpt'></a>
<em>Slurp</em> means to read an entire file into a string variable all in one go.
<a name='excerptend' id='excerptend'></a>
</p>
<p class='vspace'>In perl, a file can easily be read into an array by assigning the array to the filehandle:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock1'>
  <div class='sourceblocktext'><div class="perl"><ol><li class="li1"><div class="de1"><span class="kw3">open</span><span class="br0">&#40;</span><span class="re0">$fh</span><span class="sy0">,</span><span class="st0">&quot;&lt;&quot;</span><span class="sy0">,</span><span class="re0">$filename</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li1"><div class="de1"><span class="re0">@lines</span> <span class="sy0">=</span> <span class="sy0">&lt;</span><span class="re0">$fh</span><span class="sy0">&gt;;</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.PerlSlurp?action=sourceblock&amp;num=1' type='text/plain'>raw code</a></div>
</div>

<p class='vspace'>If one wants to have all of the source in one string, you could do the above and join the lines:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock2'>
  <div class='sourceblocktext'><div class="perl"><ol><li class="li1"><div class="de1"><span class="kw3">open</span><span class="br0">&#40;</span><span class="re0">$fh</span><span class="sy0">,</span><span class="st0">&quot;&lt;&quot;</span><span class="sy0">,</span><span class="re0">$filename</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li1"><div class="de1"><span class="re0">@lines</span> <span class="sy0">=</span> <span class="sy0">&lt;</span><span class="re0">$fh</span><span class="sy0">&gt;;</span></div></li>
<li class="li1"><div class="de1"><span class="re0">$lines</span> <span class="sy0">=</span> <span class="kw3">join</span><span class="br0">&#40;</span><span class="st_h">''</span><span class="sy0">,</span><span class="re0">@lines</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.PerlSlurp?action=sourceblock&amp;num=2' type='text/plain'>raw code</a></div>
</div>

<p class='vspace'>Alternatively, you can reset the input line separator, <code>$/</code>, to undef, and then read the file directly into a string:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock3'>
  <div class='sourceblocktext'><div class="perl"><ol><li class="li1"><div class="de1"><span class="kw1">my</span> <span class="re0">$text</span> <span class="sy0">=</span> <span class="kw1">do</span> <span class="br0">&#123;</span> <span class="kw3">local</span><span class="br0">&#40;</span> <span class="sy0">@</span><span class="kw2">ARGV</span><span class="sy0">,</span> <span class="co5">$/</span> <span class="br0">&#41;</span> <span class="sy0">=</span> <span class="re0">$filename</span> <span class="sy0">;</span> <span class="sy0">&lt;&gt;</span> <span class="br0">&#125;</span> <span class="sy0">;</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.PerlSlurp?action=sourceblock&amp;num=3' type='text/plain'>raw code</a></div>
</div>

<p class='vspace'>If you want to do this with standard input:
</p>
<div class='vspace'></div>
<div class='sourceblock ' id='sourceblock4'>
  <div class='sourceblocktext'><div class="perl"><ol><li class="li1"><div class="de1"><span class="kw1">my</span> <span class="re0">$text</span> <span class="sy0">=</span> <span class="kw1">do</span> <span class="br0">&#123;</span> <span class="kw3">local</span><span class="br0">&#40;</span> <span class="co5">$/</span> <span class="br0">&#41;</span><span class="sy0">;</span> <span class="re4">&lt;STDIN&gt;</span> <span class="br0">&#125;</span> <span class="sy0">;</span></div></li>
</ol></div></div>
  <div class='sourceblocklink'><a href='http://wiki.tamouse.org?n=Technology.PerlSlurp?action=sourceblock&amp;num=4' type='text/plain'>raw code</a></div>
</div>

<div class='vspace'></div><div  style='display: none;' > 
<p>Summary:Your basic slurp in Perl
Parent:(Technology.)Perl
<span class='wikiword'><a class='createlinktext' rel='nofollow'
    href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>IncludeMe</a><a rel='nofollow' 
    class='createlink' href='http://wiki.tamouse.org?n=Technology.IncludeMe?action=edit'>?</a></span>:<a class='wikilink' href='http://wiki.tamouse.org?n=Technology.Perl?action=print'>Perl</a>
Categories:<a class='categorylink' href='http://wiki.tamouse.org?n=Category.HowTos'>HowTos</a>,<a class='categorylink' href='http://wiki.tamouse.org?n=Category.Articles'>Articles</a>
Tags: perl, slurp, reading files, idioms
</p></div>
</div>

</body>
</html>
